# Circly 사용자 플로우 가이드

## 개요
사용자 관점에서 앱의 모든 화면과 버튼, 기능 실행 과정을 상세히 정리한 플로우 가이드입니다. Gas 앱의 직관적인 플로우를 참고하여 Circly만의 매끄러운 사용자 여정을 설계했습니다.

## 🚪 앱 진입 플로우

### A. 초대 링크를 통한 진입
```
📱 카카오톡/인스타그램에서 초대 링크 클릭
↓
🌐 브라우저에서 "앱 설치" 페이지 로딩
[설치하기 버튼] → App Store/Google Play로 이동
↓
📲 앱 설치 후 자동으로 앱 실행
↓  
🎉 "친구가 초대했어요!" 화면
- Circle 이름: "3-2반 친구들"
- 현재 멤버: 12명
- 진행중인 투표: 2개
[참여하기 버튼] → 닉네임 입력 화면으로
```

### B. 직접 다운로드한 경우
```
📲 앱 실행
↓
📖 온보딩 화면 (3페이지 슬라이드)
1페이지: "익명으로 친구들과 소통해요" 
   [다음 버튼] → 2페이지로
2페이지: "실시간으로 결과를 확인해요"
   [다음 버튼] → 3페이지로  
3페이지: "예쁜 카드로 추억을 남겨요"
   [시작하기 버튼] → 메인 화면으로
```

## 🏠 메인 화면 (Home Tab) 플로우

### 화면 구성
```
📱 Home 화면
┌─────────────────────────────────┐
│ 🔔[알림]        Circly    👤[프로필] │
├─────────────────────────────────┤
│ 🎯 현재 Circle: 3-2반 친구들       │
│    👥 15명 참여중                   │
├─────────────────────────────────┤
│ 📊 진행중인 투표 (2개)              │
│                                 │
│ 💖 가장 웃음이 예쁜 친구는?          │  
│ ⏰ 12시간 23분 남음                │
│ [투표하기]              [결과보기] │
│                                 │
│ ⭐ 가장 친절한 친구는?              │
│ ⏰ 1일 5시간 남음                  │  
│ [투표하기]              [결과보기] │
├─────────────────────────────────┤
│ 📝 완료된 투표 (5개)               │
│ [더보기] → 전체 히스토리             │
├─────────────────────────────────┤
│ [Home]     [Create]    [Profile] │
└─────────────────────────────────┘
```

### 주요 버튼 액션

#### 1. [투표하기] 버튼
```
[투표하기] 클릭
↓
📝 투표 화면으로 전환 (슬라이드 애니메이션)
- 질문 표시: "💖 가장 웃음이 예쁜 친구는?"
- 4명 선택지 카드 표시
- 상단 진행률: "1/1" (단일 투표)
[친구 카드 선택] → 선택 확인 화면으로
```

#### 2. [결과보기] 버튼  
```
[결과보기] 클릭
↓  
📊 결과 화면으로 전환
- 실시간 막대 그래프
- 각 친구별 득표 수/비율
- 총 참여자 수 표시
[공유하기] → 공유 옵션 선택
[새 투표 만들기] → Create 탭으로 이동
```

#### 3. [알림] 아이콘 (우상단)
```
🔔 알림 아이콘 클릭
↓
📬 알림 목록 화면 (Bottom Sheet)
- "새 투표가 시작되었어요!" (2시간 전)
- "투표 마감 1시간 전입니다" (1시간 전)  
- "결과가 발표되었어요!" (30분 전)
[알림 아이템 클릭] → 해당 투표/결과 화면으로
[모두 읽음] → 알림 목록 지우기
```

## 📝 투표 참여 플로우

### 투표 화면 상세
```
📱 투표 화면
┌─────────────────────────────────┐
│ ←[뒤로]    1/1    ⏰ 12:23:45   │
├─────────────────────────────────┤
│                                 │
│          💖                     │
│    가장 웃음이 예쁜 친구는?        │
│                                 │
├─────────────────────────────────┤
│  ┌─────────────────────────────┐ │
│  │        김민지               │ │
│  │      (선택 가능)            │ │  
│  └─────────────────────────────┘ │
│  ┌─────────────────────────────┐ │
│  │        이서연               │ │
│  │      (선택 가능)            │ │
│  └─────────────────────────────┘ │
│  ┌─────────────────────────────┐ │
│  │        박지민               │ │
│  │      (선택 가능)            │ │
│  └─────────────────────────────┘ │
│  ┌─────────────────────────────┐ │
│  │        최하영               │ │
│  │      (선택 가능)            │ │
│  └─────────────────────────────┘ │
├─────────────────────────────────┤
│  [건너뛰기]           [섞기]      │
│                [다음으로] (비활성) │
└─────────────────────────────────┘
```

### 투표 진행 과정
```
1️⃣ 친구 카드 선택 (예: 김민지)
   김민지 카드 → 선택됨 (파란색 하이라이트)
   [다음으로] 버튼 활성화 (파란색)
   
2️⃣ [다음으로] 버튼 클릭
   ↓
   🎉 투표 완료 화면 (2초간 표시)
   "투표가 완료되었어요!"
   하트 날아가는 애니메이션
   
3️⃣ 자동으로 결과 화면 전환
   실시간 결과 그래프 표시
   [공유하기] [홈으로] 버튼
```

### 보조 버튼 기능
```
[건너뛰기] 클릭 → 홈 화면으로 복귀 (투표하지 않음)
[섞기] 클릭 → 4명 선택지 순서 변경 (애니메이션)
```

## 🎨 투표 생성 플로우 (Create Tab)

> **UX 스타일**: Gas 앱의 스와이프 카드 방식으로 재미있고 직관적인 질문 선택 경험 제공

### Create 화면 구성
```
📱 Create 화면 (메인)
┌─────────────────────────────────┐
│         새 투표 만들기            │
│  질문을 선택해서 투표를 시작해보세요 │
├─────────────────────────────────┤
│                                 │
│ ┌───────────────────────────┐   │
│ │ 😊 성격 관련              │   │  ← 카테고리 카드
│ │ 8개의 질문                │   │
│ └───────────────────────────┘   │
│                                 │
│ ┌───────────────────────────┐   │
│ │ ✨ 외모 관련              │   │
│ │ 6개의 질문                │   │
│ └───────────────────────────┘   │
│                                 │
│ ┌───────────────────────────┐   │
│ │ 🎉 특별한 날              │   │
│ │ 4개의 질문                │   │
│ └───────────────────────────┘   │
│                                 │
│ ┌───────────────────────────┐   │
│ │ 🏆 능력 관련              │   │
│ │ 5개의 질문                │   │
│ └───────────────────────────┘   │
│                                 │
├─────────────────────────────────┤
│ [Home]     [Create]    [Profile] │
└─────────────────────────────────┘
```

### 투표 생성 단계별 플로우

#### 1단계: 질문 카테고리 선택 (카드 탭)
```
😊 성격 관련 카드 탭
↓
📱 스와이프 카드 화면으로 전환
(슬라이드 애니메이션, 200ms)
```

#### 2단계: 질문 선택 (스와이프 카드)
```
📱 질문 카드 스택 화면
┌─────────────────────────────────┐
│ ← [닫기]  성격 관련      [3/8]   │
├─────────────────────────────────┤
│                                 │
│     ┌───────────────────┐       │
│   ┌─┼───────────────────┼─┐     │  ← 카드 스택 (3장)
│ ┌─┼─┼───────────────────┼─┼─┐   │
│ │ │ │       😊          │ │ │   │
│ │ │ │                   │ │ │   │  ← 현재 카드 (최상단)
│ │ │ │ 가장 친절한 친구는? │ │ │   │
│ │ │ │                   │ │ │   │
│ │ │ │   [선택하기]      │ │ │   │
│ └─┼─┼───────────────────┼─┼─┘   │
│   └─┼───────────────────┼─┘     │
│     └───────────────────┘       │
│                                 │
│      ⬅️  ❌  💖  ✅  ➡️       │  ← 액션 버튼
│                                 │
│  (← 스와이프하여 넘기기)         │
└─────────────────────────────────┘

**스와이프 제스처:**
- ← 좌측 스와이프: 다음 질문 (건너뛰기)
- → 우측 스와이프: 이전 질문
- ↑ 위로 스와이프: 질문 선택 + 다음 단계로

**버튼 액션:**
- ⬅️ 이전: 이전 카드로
- ❌ 건너뛰기: 다음 카드로
- 💖 선택 (메인): 질문 선택 + 설정 화면으로
- ✅ 선택: 질문 선택 + 설정 화면으로
- ➡️ 다음: 다음 카드로

질문 선택 → 3단계로
```

#### 3단계: 투표 설정
```
📱 투표 설정 화면
┌─────────────────────────────────┐
│ ← 투표 설정                      │
├─────────────────────────────────┤
│ 📝 선택한 질문                   │
│ "가장 친절한 친구는?"             │
├─────────────────────────────────┤
│ ⏰ 투표 기간                     │
│ ◯ 1시간  ◯ 3시간  ◉ 6시간  ◯ 24시간 │
│ (DSL.md PollDuration 기준)       │
├─────────────────────────────────┤
│ 🎯 참여 대상                     │
│ ◉ Circle 전체 (15명)            │
│ ◯ 일부 선택하기                  │
├─────────────────────────────────┤
│ 📢 알림 설정                     │
│ ◉ 즉시 알림 보내기               │
│ ◯ 예약 발송 (시간 설정)          │
├─────────────────────────────────┤
│              [미리보기]           │
└─────────────────────────────────┘

[미리보기] 클릭 → 4단계로
```

#### 4단계: 미리보기 및 발행  
```
📱 미리보기 화면
┌─────────────────────────────────┐
│ ← 미리보기                       │
├─────────────────────────────────┤
│          😊                     │
│    가장 친절한 친구는?            │
│                                 │
│  ┌─────────────────────────────┐ │
│  │        김민지               │ │
│  └─────────────────────────────┘ │
│  ┌─────────────────────────────┐ │
│  │        이서연               │ │
│  └─────────────────────────────┘ │
│  ┌─────────────────────────────┐ │
│  │        박지민               │ │
│  └─────────────────────────────┘ │
│  ┌─────────────────────────────┐ │
│  │        최하영               │ │
│  └─────────────────────────────┘ │
├─────────────────────────────────┤
│ ⏰ 6시간 후 마감                 │
│ 👥 3-2반 친구들 (15명)           │
│ 📢 즉시 알림 발송                │
├─────────────────────────────────┤
│    [수정하기]      [투표 시작]    │
└─────────────────────────────────┘

[투표 시작] 클릭 → 발행 완료
```

#### 5단계: 발행 완료
```
🎉 투표 발행 완료 화면 (3초간)
"투표가 시작되었어요!"
자동으로 Home 화면으로 이동
→ 새 투표가 목록 맨 위에 표시
```

## 👤 프로필 플로우 (Profile Tab)

### 프로필 화면 구성
```
📱 Profile 화면  
┌─────────────────────────────────┐
│          내 프로필               │
├─────────────────────────────────┤
│       👤 김○○                  │
│    3-2반 친구들 참여중            │
├─────────────────────────────────┤
│ 🏆 이번 주 활동                  │  
│ • 받은 하트: 23개 💖             │
│ • 참여한 투표: 12개 📝           │
│ • 만든 투표: 3개 ⭐              │
├─────────────────────────────────┤
│ 📊 나의 통계                     │
│ [자세히 보기 →]                  │
│                                 │
│ 🎁 받은 하트 모아보기             │  
│ [전체 보기 →]                    │
│                                 │
│ 🔔 알림 설정                     │
│ [설정하기 →]                     │
│                                 │
│ 👥 Circle 관리                   │
│ [초대/탈퇴 →]                    │
├─────────────────────────────────┤
│ [Home]     [Create]    [Profile] │
└─────────────────────────────────┘
```

### 주요 기능 플로우

#### 1. [받은 하트 전체 보기]
```
[전체 보기 →] 클릭  
↓
📱 받은 하트 목록 화면
┌─────────────────────────────────┐
│ ← 받은 하트                      │
├─────────────────────────────────┤
│ 💖 가장 친절한 친구 (3시간 전)    │
│    8명이 선택했어요              │
│                                 │
│ ⭐ 가장 패션센스 좋은 친구 (1일 전) │
│    12명이 선택했어요             │
│                                 │
│ 😊 가장 웃음이 예쁜 친구 (3일 전)  │
│    15명이 선택했어요             │
├─────────────────────────────────┤
│          [공유하기]              │
└─────────────────────────────────┘

각 아이템 클릭 → 해당 투표 결과 상세로
```

#### 2. [Circle 관리]  
```
[초대/탈퇴 →] 클릭
↓
📱 Circle 관리 화면
┌─────────────────────────────────┐
│ ← Circle 관리                    │
├─────────────────────────────────┤
│ 🎯 현재 Circle: 3-2반 친구들      │
│ 👥 참여자 15명                   │
│ 📅 생성일: 2024.03.15           │
├─────────────────────────────────┤
│ 👥 친구 초대하기                 │
│ [초대 링크 복사]                 │
│ [카카오톡으로 초대]               │
│                                 │
│ ⚙️ Circle 설정                   │
│ [Circle 이름 변경]               │
│ [알림 설정]                      │
│                                 │
│ ⚠️ 위험 구역                     │  
│ [Circle 나가기]                  │
│ [Circle 삭제] (관리자만)         │
└─────────────────────────────────┘

[초대 링크 복사] → 클립보드에 링크 복사
[Circle 나가기] → 확인 다이얼로그
```

#### 3. [설정]
```
[설정하기 →] 클릭 (프로필 화면 하단)
↓
📱 설정 화면
┌─────────────────────────────────┐
│ ← 설정                          │
├─────────────────────────────────┤
│ 👤 계정 관리                     │
│ ┌─────────────────────────────┐ │
│ │ 프로필 수정              →  │ │
│ │ 비밀번호 변경            →  │ │
│ └─────────────────────────────┘ │
│                                 │
│ 🎨 앱 설정                       │
│ ┌─────────────────────────────┐ │
│ │ 다크 모드          [토글]   │ │
│ │ 시스템 설정 따르기  [토글]   │ │
│ └─────────────────────────────┘ │
│                                 │
│ ℹ️ 정보                          │
│ ┌─────────────────────────────┐ │
│ │ 개인정보처리방침         →  │ │
│ │ 서비스 이용약관          →  │ │
│ │ 오픈소스 라이선스        →  │ │
│ │ 앱 버전             v1.0.0  │ │
│ └─────────────────────────────┘ │
│                                 │
│ ⚠️ 계정                          │
│ ┌─────────────────────────────┐ │
│ │ 로그아웃                    │ │  ← 빨간색 텍스트
│ │ 회원 탈퇴                   │ │  ← 빨간색 텍스트
│ └─────────────────────────────┘ │
└─────────────────────────────────┘
```

##### 설정 항목 상세

**프로필 수정**
```
[프로필 수정 →] 클릭
↓
📱 프로필 수정 화면
┌─────────────────────────────────┐
│ ← 프로필 수정           [저장]  │
├─────────────────────────────────┤
│         👤 (프로필 사진)         │
│        [사진 변경하기]           │
│                                 │
│ 닉네임                          │
│ ┌─────────────────────────────┐ │
│ │ 김○○                       │ │
│ └─────────────────────────────┘ │
│ * 닉네임은 Circle별로 다르게     │
│   설정할 수 있어요               │
│                                 │
│ 이메일                          │
│ ┌─────────────────────────────┐ │
│ │ user@email.com        (변경불가) │
│ └─────────────────────────────┘ │
└─────────────────────────────────┘

[저장] → 성공 토스트 "프로필이 수정되었어요"
```

**다크 모드**
```
다크 모드 토글 ON/OFF
→ 즉시 테마 전환 (애니메이션 0.3s)
→ AsyncStorage에 설정 저장

시스템 설정 따르기 ON
→ 다크 모드 토글 비활성화
→ 시스템 다크모드 설정 따름
```

**로그아웃**
```
[로그아웃] 클릭
↓
⚠️ 확인 다이얼로그
┌─────────────────────────────────┐
│      정말 로그아웃할까요?        │
│                                 │
│  다시 로그인하면 모든 Circle에   │
│  다시 참여할 수 있어요.          │
│                                 │
│    [취소]         [로그아웃]    │
└─────────────────────────────────┘

[로그아웃] → 토큰 삭제 → 로그인 화면으로
```

**회원 탈퇴**
```
[회원 탈퇴] 클릭
↓
⚠️ 경고 다이얼로그
┌─────────────────────────────────┐
│      정말 탈퇴하시겠어요?        │
│                                 │
│  ⚠️ 탈퇴 시 복구할 수 없어요:    │
│  • 모든 Circle 탈퇴             │
│  • 받은 하트 기록 삭제           │
│  • 투표 참여 기록 삭제           │
│                                 │
│  확인을 위해 "탈퇴합니다"를       │
│  입력해주세요.                   │
│  ┌───────────────────────────┐  │
│  │                           │  │
│  └───────────────────────────┘  │
│                                 │
│    [취소]       [탈퇴하기]      │  ← 빨간색 버튼
└─────────────────────────────────┘

[탈퇴하기] → 계정 삭제 API → 로그인 화면
```

## 📬 알림 및 푸시 플로우

### 푸시 알림 타입별 액션
```
🔔 "새 투표가 시작되었어요!" 
   → 탭 시 해당 투표 화면으로

🔔 "투표 마감 1시간 전입니다"
   → 탭 시 투표 화면으로 (미참여자만)
   
🔔 "결과가 발표되었어요!"  
   → 탭 시 결과 화면으로

🔔 "누군가 당신을 선택했어요! 💖"
   → 탭 시 받은 하트 목록으로
```

### 앱 내 알림 센터
```
🔔 알림 아이콘 클릭 → Bottom Sheet 열림
┌─────────────────────────────────┐
│            알림                 │
├─────────────────────────────────┤  
│ 🆕 새 투표가 시작되었어요!        │
│     "가장 친절한 친구는?"         │
│     2시간 전                     │
│                                 │
│ ⏰ 투표 마감 임박                │
│     "가장 웃음이 예쁜 친구는?"     │
│     1시간 전                     │
│                                 │  
│ 💖 누군가 당신을 선택했어요!       │
│     하트 +1                      │
│     30분 전                      │
├─────────────────────────────────┤
│  [모두 읽음]        [설정]       │
└─────────────────────────────────┘

각 알림 클릭 → 해당 화면으로 이동
[모두 읽음] → 알림 목록 지우기  
[설정] → 알림 설정 화면으로
```

## 🎁 특별 기능 플로우

### 결과 카드 공유하기
```
결과 화면에서 [공유하기] 클릭
↓
📱 공유 옵션 화면 (Bottom Sheet)
┌─────────────────────────────────┐
│         공유하기                │
├─────────────────────────────────┤
│  📸 결과 카드로 만들기            │
│     [Instagram 스토리]           │  
│     [카카오톡]                   │
│                                 │
│  🔗 링크로 공유하기               │
│     [링크 복사]                  │
│     [다른 앱으로 공유]            │
└─────────────────────────────────┘

[Instagram 스토리] 선택 → 카드 템플릿 선택
```

### 긴급 상황 플로우 (에러/오프라인)
```
❌ 네트워크 에러 시
Toast 메시지: "인터넷 연결을 확인해주세요"
[다시 시도] 버튼 → 해당 액션 재시도

🔄 로딩 중  
스켈레톤 화면 → 데이터 로딩 중 표시

📡 오프라인 상태
상단 배너: "오프라인 상태 - 연결되면 동기화됩니다"  
기본 기능은 제한적으로 동작
```

## 📱 Tab Navigation 동작

### 탭 전환 시 상태 유지
```
Home → Create → Profile → Home
각 탭의 스크롤 위치와 데이터 상태 유지

단, 새로고침이 필요한 경우:
- Home: 새 투표/결과 업데이트
- Profile: 통계 데이터 갱신
```

이제 사용자가 앱의 어떤 화면에서든 명확하게 다음 액션을 취할 수 있는 완전한 플로우가 구성되었습니다! 🎯