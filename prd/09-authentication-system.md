# PRD 09: 인증 시스템 (Authentication System)

## 📋 문서 정보
- **작성일**: 2025-01-20
- **버전**: v1.0
- **담당자**: Product Team
- **상태**: Draft

---

## 🎯 개요

Circly 앱의 인증 시스템을 현재의 디바이스 기반 로그인에서 일반적인 앱 로그인 방식으로 확장하여, 사용자들이 더 안전하고 편리하게 서비스를 이용할 수 있도록 합니다.

---

## 🎯 목표

### 주요 목표
1. **계정 연속성**: 디바이스 변경 시에도 계정 유지
2. **보안 강화**: 비밀번호 기반 보안으로 계정 보호
3. **사용자 편의성**: 소셜 로그인을 통한 간편 가입/로그인
4. **익명성 보장**: 기존 익명 투표 기능 유지

### 비즈니스 목표
- 사용자 재방문률 증가 (30% → 50%)
- 계정 분실로 인한 이탈률 감소 (20% → 5%)
- 소셜 로그인을 통한 가입 전환율 향상 (15% → 40%)

---

## 👥 타겟 사용자

### 1차 타겟: 기존 디바이스 로그인 사용자
- **페르소나**: 현재 앱을 사용하고 있지만 계정 보안이 걱정되는 사용자
- **니즈**: 
  - 디바이스 분실/교체 시에도 계정 유지
  - 더 안전한 계정 관리
  - 기존 Circle과 투표 기록 보존

### 2차 타겟: 신규 사용자
- **페르소나**: 소셜 로그인을 선호하는 10-20대 사용자
- **니즈**:
  - 간편한 가입 프로세스
  - 소셜 계정 연동을 통한 친구 찾기
  - 빠른 온보딩

---

## ✨ 핵심 기능

### Phase 1: 기본 인증 시스템 (Week 1-2)

#### 1.1 이메일/비밀번호 로그인
- **회원가입**
  - 이메일, 비밀번호, 닉네임 입력
  - 이메일 인증 (선택적)
  - 이용약관 및 개인정보처리방침 동의
  - 프로필 이모지 선택

- **로그인**
  - 이메일/비밀번호 입력
  - 로그인 상태 유지 옵션
  - 자동 로그인 (생체인증 연동)

#### 1.2 계정 마이그레이션
- **기존 디바이스 계정 연동**
  - 디바이스 로그인 → 이메일 계정으로 업그레이드
  - 기존 Circle 멤버십 유지
  - 투표 기록 및 통계 데이터 보존
  - 마이그레이션 인센티브 (배지, 포인트 등)

#### 1.3 계정 관리
- **비밀번호 재설정**
  - 이메일 기반 비밀번호 리셋
  - 보안 질문 (선택적)
  - SMS 인증 (선택적)

- **계정 설정**
  - 프로필 수정 (닉네임, 이모지, 소개)
  - 이메일 변경
  - 비밀번호 변경
  - 계정 탈퇴

### Phase 2: 소셜 로그인 (Week 3-4)

#### 2.1 지원 플랫폼
1. **카카오 로그인** (한국 사용자 대상)
2. **Apple 로그인** (iOS 필수)
3. **Google 로그인** (Android)
4. **네이버 로그인** (한국 사용자 추가)

#### 2.2 소셜 로그인 플로우
- **신규 가입**
  - 소셜 계정 선택
  - 권한 동의 (프로필 정보, 이메일)
  - 닉네임 설정 (소셜 이름 기본값)
  - 프로필 이모지 선택
  - 서비스 약관 동의

- **기존 계정 연동**
  - 이메일 매칭을 통한 자동 연동
  - 수동 계정 연동 옵션
  - 중복 계정 병합 기능

#### 2.3 친구 찾기 (선택적)
- **소셜 연락처 연동**
  - 카카오톡 친구 목록 접근 (동의 시)
  - 이미 가입한 친구 추천
  - Circle 초대 간편화

### Phase 3: 고급 기능 (Week 5-6)

#### 3.1 다중 기기 지원
- **기기 관리**
  - 로그인된 기기 목록 확인
  - 원격 로그아웃 기능
  - 의심스러운 로그인 알림

#### 3.2 보안 강화
- **2단계 인증 (2FA)**
  - SMS 인증
  - 이메일 인증
  - 앱 기반 OTP (Google Authenticator)

- **생체 인증**
  - 지문 인식 (Android/iOS)
  - Face ID (iOS)
  - 로컬 저장소 암호화

#### 3.3 계정 연동 관리
- **연동된 소셜 계정 관리**
  - 연동/해제 기능
  - 주 계정 설정
  - 소셜 프로필 동기화

---

## 🎨 사용자 경험 (UX)

### 온보딩 플로우

#### 신규 사용자
1. **환영 화면** → 가입 방식 선택
2. **소셜 로그인** or **이메일 회원가입**
3. **프로필 설정** (닉네임, 이모지)
4. **서비스 소개** (투표, Circle 기능)
5. **첫 Circle 참여** or **생성 유도**

#### 기존 디바이스 사용자
1. **업그레이드 안내** 팝업
2. **마이그레이션 혜택** 설명
3. **이메일 등록** → 계정 업그레이드
4. **데이터 이전 완료** 안내

### UI/UX 원칙

#### 1. 간편성 우선
- 소셜 로그인을 가장 상단에 배치
- 3단계 이내 회원가입 완료
- 자동완성 및 스마트 입력 지원

#### 2. 신뢰성 표현
- 보안 인증서/배지 표시
- 개인정보 보호 정책 명시
- 투명한 데이터 사용 설명

#### 3. 브랜드 일관성
- Circly 컬러 시스템 활용
- 친근한 톤앤매너 유지
- 이모지 활용한 감성적 접근

---

## 📊 성공 지표 (KPI)

### 사용자 지표
- **회원가입률**: 앱 설치 → 가입 완료 (목표: 60%)
- **소셜 로그인 비율**: 전체 가입 중 소셜 로그인 (목표: 70%)
- **계정 마이그레이션률**: 기존 사용자 → 정식 계정 (목표: 80%)
- **7일 리텐션**: 가입 후 7일 내 재방문 (목표: 45%)

### 기술 지표
- **로그인 성공률**: 로그인 시도 → 성공 (목표: 98%)
- **소셜 연동 성공률**: 소셜 로그인 시도 → 성공 (목표: 95%)
- **계정 복구 성공률**: 비밀번호 재설정 요청 → 성공 (목표: 85%)

### 비즈니스 지표
- **사용자 재방문률**: 30일 내 재방문 (목표: 60%)
- **Circle 참여율**: 가입 → Circle 참여 (목표: 80%)
- **친구 초대율**: 사용자 → 친구 초대 (목표: 25%)

---

## 🔒 개인정보보호 & 보안

### 데이터 수집 최소화
- **필수 정보만 수집**
  - 이메일, 닉네임만 필수
  - 나머지는 선택사항으로 처리
  - 소셜 로그인 시 최소 권한 요청

### 익명성 보장
- **투표는 여전히 익명**
  - 로그인 계정과 투표 분리
  - 투표 결과에 개인정보 미포함
  - Circle 내에서만 닉네임 표시

### 데이터 보안
- **암호화 저장**
  - 비밀번호 해싱 (bcrypt)
  - 민감 정보 AES 암호화
  - DB 암호화 적용

### GDPR/개인정보보호법 준수
- **사용자 권리 보장**
  - 개인정보 조회/수정/삭제
  - 데이터 이동권 (계정 내보내기)
  - 마케팅 수신 동의 분리

---

## 🎯 차별화 전략

### 경쟁사 대비 차별점
1. **익명성 + 계정의 조화**
   - 계정이 있어도 투표는 완전 익명
   - 개인정보와 투표 데이터 완전 분리

2. **간편한 마이그레이션**
   - 기존 사용자 데이터 100% 보존
   - 끊김 없는 서비스 경험

3. **한국형 소셜 로그인**
   - 카카오/네이버 우선 지원
   - 한국 사용자 맞춤 UX

### 혁신 포인트
1. **계정 업그레이드 인센티브**
   - 마이그레이션 배지 지급
   - 특별 프로필 이모지 제공
   - 추가 Circle 생성 권한

2. **소셜 친구 찾기**
   - 이미 앱을 사용하는 친구 추천
   - Circle 초대 간편화
   - 친구 활동 피드 (선택적)

---

## 📅 개발 로드맵

### Phase 1: 기본 인증 (2 weeks)
- Week 1: 백엔드 인증 시스템 확장
- Week 2: 프론트엔드 로그인/회원가입 UI

### Phase 2: 소셜 로그인 (2 weeks)
- Week 3: 소셜 로그인 SDK 연동
- Week 4: 소셜 계정 연동 기능

### Phase 3: 고급 기능 (2 weeks)
- Week 5: 2FA, 생체인증 구현
- Week 6: 계정 관리 고도화

---

## 🚀 출시 전략

### 베타 테스트
1. **기존 사용자 대상** (50명)
   - 계정 마이그레이션 테스트
   - 기능 안정성 검증

2. **신규 사용자 대상** (100명)
   - 회원가입 플로우 최적화
   - 소셜 로그인 사용성 테스트

### 점진적 출시
1. **Soft Launch**: 기존 사용자에게만 계정 업그레이드 제안
2. **Public Launch**: 새로운 사용자에게 정식 로그인 시스템 제공
3. **Marketing Push**: 소셜 로그인 편의성 중심 마케팅

---

## 📋 체크리스트

### 개발 완료 기준
- [ ] 이메일/비밀번호 로그인 구현
- [ ] 소셜 로그인 4개 플랫폼 연동
- [ ] 계정 마이그레이션 기능
- [ ] 비밀번호 재설정 기능
- [ ] 2단계 인증 구현
- [ ] 생체 인증 연동
- [ ] 개인정보 관리 기능

### 품질 보증
- [ ] 단위 테스트 90% 커버리지
- [ ] 통합 테스트 완료
- [ ] 보안 취약점 점검
- [ ] 성능 테스트 (동시 로그인 1000명)
- [ ] 접근성 테스트 완료

### 법적/규정 준수
- [ ] 개인정보처리방침 업데이트
- [ ] 이용약관 개정
- [ ] GDPR 준수 검토
- [ ] 개인정보보호법 준수 검토
- [ ] 소셜 로그인 플랫폼 정책 준수

---

## 🔄 향후 확장 계획

### Phase 4: AI 기반 보안 (향후)
- 이상 로그인 패턴 감지
- AI 기반 계정 보호
- 행동 패턴 분석을 통한 본인인증

### Phase 5: 글로벌 확장 (향후)
- Facebook/Twitter/Discord 로그인 추가
- 다국어 지원 확장
- 해외 개인정보보호법 준수

### Phase 6: 엔터프라이즈 (향후)
- SSO 연동 (기업용)
- 조직 계정 관리
- 대량 사용자 관리 도구

---

## 📞 연락처 및 승인

- **제품 기획**: Product Team
- **개발 리드**: Development Team  
- **디자인**: Design Team
- **QA**: Quality Assurance Team

**최종 승인**: [승인자명] | [승인일자]

---

*이 문서는 지속적으로 업데이트되며, 개발 진행 상황에 따라 내용이 변경될 수 있습니다.*